dpc.aggregation {
  include "server.conf"
  include "queue.conf"

  bbclient {
    keyStore {
      type = "JKS"
      defaultPassword = "changeit"
      location = "../bbcerts/bb.keystore"
    }

    timeouts {
      connectionTimeout: 5000 // ms
      socketTimeout: 5000 // ms
      requestTimeout: 5000 // ms
    }

    serverBaseUrl = ${BFD_URL}
    count = 100 // Max number of resource that a request to BB will return before using another request

    bfdHashIter = ${BFD_HASH_ITER}
    bfdHashPepper = ${BFD_HASH_PEPPER}
  }
  retryCount = 3 // Number of times to retry reach BB request
  resourcesPerFile = 5000 // Max number of resources that a export file will have before creating a new file
  exportPath = "/tmp"
  consentService = ${CONSENT_URL}

  server.requestLog.appenders = [{
    type = console
    timeZone = UTC
    layout {
      type = access-json
      timestampFormat = "yyyy-MM-dd'T'HH:mm:ss.SSSZ"
    }
  }]

  logging.appenders = [{
          type = console
          layout {
              type = json-dpc
              timestampFormat = "yyyy-MM-dd'T'HH:mm:ss.SSSZ"
          }
      }]
}
