<div>
    <div class="margin-bottom-5">&larr; <%= link_to 'Back to organization', organization_path(organization.path_id) %></div>
    <h1>Add public key</h1>

    <section class="box">
        <div>
            <p>Public keys verify that client token requests are coming from an authorized application.</p>
            <%= form_tag organization_public_keys_path(organization_id: organization.path_id), method: :post do %>

            <%= render(Core::Form::TextInputComponent.new(
              label: "Public key label", attribute: :label, default: params[:label], input_options: { maxlength: 25 },
              hint: 'Choose a label that will be easy to identify.',
              error_msg: @errors[:label])
            ) %>
            <%= render(Core::Form::TextAreaComponent.new(
              label: "Public key", attribute: :public_key, default: params[:public_key],
              hint: 'Enter a new public key. It must include "BEGIN PUBLIC KEY" and "END PUBLIC KEY" tags from your public.pem file.',
              error_msg: @errors[:public_key])
            ) %>
            <%= render(Core::Form::TextAreaComponent.new(
              label: "Signature snippet", attribute: :snippet_signature, default: params[:snippet_signature],
              hint: 'Enter a signature snippet. This snippet must yield "Verified Ok" results to generate the signature.sig file.',
              error_msg: @errors[:snippet_signature])
            ) %>

            <%= submit_tag "Add key", class: "usa-button", data: { test: "form:submit" } %>
            <%= link_to 'Cancel', organization_path(organization.path_id), class: ['usa-button', 'usa-button--outline'] %>
            <% end %>
            <p class="margin-top-5"><%= link_to 'View API Documentation', 'https://dpc.cms.gov/docsV1' %></p>
        </div>
    </section>
</div>
