# Demo API client

The `dpc-api` component contains a `demo` command, which illustrates the basic workflow for submitting an export request and modifying an attribution roster.
It can be executed with the following command:

`java -jar dpc-api/target/dpc-api.jar demo`

**Note**: The demo client expects the entire system (all databases and services) to be running from a new state (no data in the database).
This is the default when starting the services from the docker-compose file.
When running the JARs manually, the user will need to ensure that the `dpc_attribution` database is truncated after each run.

The demo performs the following actions:

1. Makes an export request for a given provider. This request fails because the provider is not registered with the application and has no attributed patients.
1. Generates an attribution roster for the provider using the [test_association.csv](/src/main/resources/test_associations.csv) file.
1. Resubmits the original Export request.
1. Polls the Job endpoint using the URL returned from the Export request and waits for a completed status.
1. Outputs the download URLs for all files generated by the Export request.
