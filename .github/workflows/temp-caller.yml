name: 'Temp Caller - ECS Deploy'

on:
  push:
    paths:
      - .github/workflows/ecs-deploy.yml
      - .github/workflows/temp-caller.yml

  workflow_dispatch:
    inputs:
      terraform:
        description: 'Also run terraform?'
        type: boolean
        default: false
        required: true

jobs:
  deploy:
    name: ECS Deploy
    uses: CMSgov/dpc-app/.github/workflows/ecs-deploy.yml@jd/dpc-4454-ecs-deploy
    with:
      env: dev
      confirm_env: dev
      tag: latest
      terraform: ${{ inputs.terraform || true }}
    secrets: inherit

